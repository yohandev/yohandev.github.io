{"version":3,"sources":["webpack:///webpack/bootstrap 19c1c9998ea06fad9509","webpack:///external \"paper\"","webpack:///./src/v4/Shapes.ts","webpack:///./src/v4/Workspace.ts","webpack:///./src/v4/Editor.ts","webpack:///./src/v4/Blocks.ts","webpack:///./src/v4/Colour.ts","webpack:///./src/v4/Block.ts","webpack:///./src/v4/Shape.ts","webpack:///./src/v4/Prop.ts","webpack:///./src/v4/TextProp.ts","webpack:///./src/v4/Class.ts","webpack:///./src/v4/StackedBlock.ts","webpack:///./src/v4/InputProp.ts","webpack:///./src/v4/Cursor.ts","webpack:///./src/v4/Palette.ts","webpack:///./src/v4/Drawable.ts","webpack:///./src/v4/ReporterBlock.ts","webpack:///./src/v4/NestedBlock.ts","webpack:///./src/v4/DropdownProp.ts","webpack:///./src/v4/DispenserProp.ts","webpack:///./src/v4/BlockEditor.ts","webpack:///./src/index.ts","webpack:///./res/styles.css?195d","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./res/styles.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./src/v4/StackShape.ts","webpack:///./src/v4/ReporterShape.ts","webpack:///./src/v4/BooleanShape.ts","webpack:///./src/v4/HatShape.ts","webpack:///./src/v4/BooleanBlock.ts","webpack:///./src/v4/ReporterInputProp.ts","webpack:///./src/v4/BooleanInputProp.ts","webpack:///./src/v4/OverrideBlock.ts","webpack:///./src/v4/NewBlock.ts","webpack:///./src/v4/Sprite.ts","webpack:///./src/v4/DefineBlock.ts"],"names":[],"mappings":"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A;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB;;AAE5E;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,qEAAqE,qBAAqB,aAAa;;AAEvG;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;;AAEA;;AAEA,oBAAoB,6BAA6B;AACjD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;AC5QA;AACA,kCAAkC,mBAAO,CAA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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 19c1c9998ea06fad9509","module.exports = paper;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"paper\"\n// module id = 0\n// module chunks = 0","import StackShape from \"./StackShape\";\nimport ReporterShape from \"./ReporterShape\";\nimport BooleanShape from \"./BooleanShape\";\nimport HatShape from \"./HatShape\";\n\nexport type ShapeType = 'stack' | 'reporter' | 'boolean' | 'hat';\n\nexport default class Shapes\n{\n    public static get STACK(): StackShape\n    {\n        return new StackShape('stack');\n    }\n\n    public static get REPORTER(): ReporterShape\n    {\n        return new ReporterShape('reporter');\n    }\n\n    public static get BOOLEAN(): BooleanShape\n    {\n        return new BooleanShape('boolean');\n    }\n\n    public static get HAT(): HatShape\n    {\n        return new HatShape('hat');\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/Shapes.ts","import Block from \"./Block\";\nimport Cursor from \"./Cursor\";\nimport Prop from \"./Prop\";\nimport { Group, Rectangle } from \"paper\";\nimport Editor from \"./Editor\";\n\nexport default class Workspace\n{\n    private static m_active: Workspace; // visible workspace\n\n    private blocks: Block[]; // floating blocks\n    \n    public readonly group: Group; // scroll pane group\n\n    constructor()\n    {\n        this.blocks = [];\n        this.group = new Group();\n    }\n\n    public add(b: Block)\n    {\n        this.blocks.push(b);\n\n        b.draw();\n\n        b.group.position = this.group.parent.bounds.center; // center view\n        b.shape.path.onMouseDrag = e => Cursor.drag(b, e); // draggable\n        this.group.addChild(b.group); // scroll & clip\n    }\n\n    public disconnect(block: Block): boolean\n    {\n        if (block.disconnect())\n        {\n            this.blocks.push(block); // add to loose blocks\n\n            return true;\n        }\n        return false;\n    }\n\n    public connect(block: Block): boolean // connects to nearest\n    {\n        const bounds = block.shape.path.bounds.clone().expand(Cursor.threshold);\n        let found = false;\n\n        for (const blo of this.blocks)\n        {\n            if (blo === block) // don't connect to yourself\n            {\n                continue;\n            }\n\n            blo.visit(b =>\n            { \n                if (found)\n                {\n                    return;\n                }  \n\n                if (b.intersects(bounds)) // interesect within threshold\n                {\n                    if (block.connect(b as Block | Prop))\n                    {\n                        let index = this.blocks.indexOf(block);\n\n                        if (index >= 0)\n                        {\n                            this.blocks.splice(index, 1) // rm from loose blocks\n                        }\n\n                        found = true; // connected ;; done\n                    }\n                }\n            });\n        }\n\n        return found;\n    }\n\n    public load(): void\n    {\n        this.group.visible = true;\n        window.onwheel = (e: WheelEvent) =>\n        {\n            if (Workspace.active !== this)\n            {\n                return;\n            }\n\n            // @ts-ignore\n            if (!Editor.script_pane.bounds.intersects(new Rectangle([e.x, e.y], [1, 1])))\n            {\n                return;\n            }\n            \n            // @ts-ignore\n            this.group.translate([-e.deltaX, -e.deltaY]);\n        }\n    }\n\n    public unload(): void\n    {\n        this.group.visible = false;\n    }\n\n    public highlight_loose(): void\n    {\n        this.blocks.forEach(b => b.shape.colour({ fill: b.colour.fill, stroke: 'white' }));\n    }\n\n    public unhighlight_loose(): void\n    {\n        this.blocks.forEach(b => b.shape.colour(b.colour));\n    }\n\n    public static get active(): Workspace\n    {\n        return this.m_active;\n    }\n\n    public static set active(a: Workspace)\n    {\n        if (!a)\n        {\n            throw new Error(\"active workspace cannot be null!\");\n        }\n\n        if (this.m_active)\n        {\n            this.m_active.unload();\n        }\n\n        (this.m_active = a).load();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/Workspace.ts","import Class from \"./Class\";\nimport { Symbol, Path, CompoundPath, Group, PointText, Point } from \"paper\";\nimport Workspace from \"./Workspace\";\nimport { Colours } from \"./Colour\";\nimport Palette from \"./Palette\";\nimport Sprite from \"./Sprite\";\nimport BlockEditor from \"./BlockEditor\";\nimport IClass from \"./IClass\";\n\nexport default class Editor\n{\n    public static readonly padding = 10;\n\n    public static readonly palette_width = 300;\n    public static readonly player_width = 480 / 2;\n    public static readonly header_height = 50;\n\n    public static readonly Colours =\n    {\n        DARK: '#26282e',\n        LIGHT: '#303840',\n        TEXT: 'white',\n        SUBTEXT: '#aaaeb3'\n    }\n\n    private static m_active: Class;\n    private static m_classes: Class[];\n    private static m_sprite_class: IClass;\n\n    private static m_script_pane: Group;\n    private static m_palette_pane: Group;\n\n    public static init(): void\n    {\n        this.m_sprite_class = new Sprite();\n        this.m_classes = [new Class(\"Player\", this.m_sprite_class), new Class(\"Enemy\", this.m_sprite_class)];\n        this.active = this.m_classes[0];\n    }\n\n    private static draw(): void\n    {\n        /* CLASS */\n        const header = new Path.Rectangle\n        ({\n            x: this.padding + 1.75,\n            y: this.padding + 1.75,\n            width: this.palette_width - 3.5,\n            height: this.header_height,\n            radius: 10,\n            strokeColor: Editor.Colours.LIGHT,\n            fillColor: Editor.Colours.DARK,\n            strokeWidth: 3.5\n        });\n\n        const size = '1.2em';\n        const txt0 = new PointText\n        ({\n            point: [0, 0],\n            content: \"class \",\n            fillColor: Editor.Colours.SUBTEXT,\n            fontFamily: 'Roboto',\n            fontWeight: '700',\n            fontSize: size\n        })\n        const txt1 = new PointText\n        ({\n            point: [txt0.bounds.right, 0],\n            content: this.active.name,\n            fillColor: Editor.Colours.TEXT,\n            fontFamily: 'Roboto',\n            fontSize: size\n        })\n        const txt2 = new PointText\n        ({\n            point: [txt1.bounds.right, 0],\n            content: \" extends \",\n            fillColor: Editor.Colours.SUBTEXT,\n            fontFamily: 'Roboto',\n            fontWeight: 'italic 700',\n            fontSize: size\n        })\n        const txt3 = new PointText\n        ({\n            point: [txt2.bounds.right, 0],\n            content: this.active.extends.name,\n            fillColor: Editor.Colours.TEXT,\n            fontFamily: 'Roboto',\n            fontSize: size\n        })\n        const txts = new Group([txt0, txt1, txt2, txt3]);\n\n        txts.bounds.leftCenter = new Point(this.padding * 2, header.bounds.center.y);\n\n        const circ = new Path.Circle\n        ({\n            center: [header.bounds.right - 10 - this.padding, header.bounds.center.y],\n            radius: 10,\n            fillColor: Editor.Colours.DARK,\n            strokeColor: Editor.Colours.LIGHT,\n            strokeWidth: 3\n        })\n        const plus = new CompoundPath\n        ({\n            children:\n            [\n                new Path.Rectangle({ position: [0, 0], width: 10, height: 3, radius: 1 }),\n                new Path.Rectangle({ position: [0, 0], width: 3, height: 10, radius: 1 }),\n            ],\n            fillColor: Editor.Colours.LIGHT\n        })\n        plus.bounds.center = circ.bounds.center;\n\n        const btn = new Group([circ, plus]);\n        btn.onMouseDown = e => BlockEditor.show();\n\n        /* SCRIPT */\n        const cross = new Symbol(new CompoundPath\n        ({\n            children:\n            [\n                new Path.Rectangle({ position: [0, 0], width: 20, height: 2, radius: 3 }),\n                new Path.Rectangle({ position: [0, 0], width: 2, height: 20, radius: 3 }),\n            ],\n            fillColor: Editor.Colours.LIGHT,\n            rotation: 45\n        }))\n        \n        const rect = new Path.Rectangle\n        ({\n            x: this.palette_width + this.padding * 2,\n            y: this.padding,\n            width: this.width() - this.palette_width - this.player_width - this.padding * 3,\n            height: this.height() - this.padding * 2,\n            radius: 10,\n            strokeColor: Editor.Colours.LIGHT,\n            fillColor: Editor.Colours.DARK,\n            strokeWidth: 7\n        });\n\n        const crosses = new Group();\n        for (let x = rect.bounds.left + 3; x <= rect.bounds.right + 70; x += 70)\n        {\n            for (let y = rect.bounds.top + 3; y <= rect.bounds.bottom + 70; y += 70)\n            {\n                // @ts-ignore\n                crosses.addChild(cross.place([x, y]));\n            }\n        }\n\n        this.m_script_pane = new Group\n        ({\n            children:\n            [\n                /* clipping */ rect,\n                /* border */ rect.clone(),\n                /* pattern */ crosses,\n                /* scripts */ Workspace.active.group\n            ],\n            clipped: true\n        });\n\n        /* PALETTE */\n        const rect2 = new Path.Rectangle\n        ({\n            x: this.padding,\n            y: this.header_height + this.padding * 2,\n            width: this.palette_width,\n            height: this.height() - this.header_height - this.padding * 3,\n            radius: 10,\n            strokeColor: Editor.Colours.LIGHT,\n            fillColor: Editor.Colours.DARK,\n            strokeWidth: 7\n        });\n\n        const tabs = new Path.Rectangle\n        ({\n            x: this.padding,\n            y: this.padding,\n            width: 60,\n            height: this.height() - this.padding * 2,\n            fillColor: Editor.Colours.LIGHT,\n        });\n\n        const circs = new Group();\n        const dy = rect2.bounds.height / 8;\n        let y = rect2.bounds.top - dy / 2;\n        for (const col in Colours)\n        {\n            const c = (Colours as any)[col];\n\n            circs.addChild(new Path.Circle\n            ({\n                center: [tabs.bounds.center.x, y += dy],\n                radius: 15,\n                fillColor: c.fill,\n                strokeColor: c.stroke,\n                strokeWidth: 2\n            }))\n\n            circs.addChild(new PointText\n            ({\n                point: [tabs.bounds.center.x, y + 30],\n                content: col.toLowerCase(),\n                fillColor: Editor.Colours.TEXT,\n                justification: 'center',\n                fontFamily: 'Roboto',\n                fontSize: '0.7em'\n            }))\n        }\n\n        this.m_palette_pane = new Group\n        ({\n            children:\n            [\n                /* clipping */ rect2,\n                /* border */ rect2.clone(),\n                /* tabs bg */ tabs,\n                /* tabs*/ circs\n            ],\n            clipped: true\n        })\n        this.m_palette_pane.moveBelow(Palette.active.group);\n    }\n\n    public static width(): number\n    {\n        return paper.project.view.size.width;\n    }\n\n    public static height(): number\n    {\n        return paper.project.view.size.height;\n    }\n\n    public static get script_pane(): Group\n    {\n        return this.m_script_pane;\n    }\n\n    public static get palette_pane(): Group\n    {\n        return this.m_palette_pane;\n    }\n\n    public static get active(): Class\n    {\n        return this.m_active;\n    }\n\n    public static set active(c: Class)\n    {\n        this.m_active = c;\n        this.m_active.show();\n        this.draw();\n    }\n\n    public static get classes(): Class[]\n    {\n        return this.m_classes;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/Editor.ts","import StackedBlock from \"./StackedBlock\";\nimport Shapes from \"./Shapes\";\nimport { Colours, Colour } from \"./Colour\";\nimport ReporterBlock from \"./ReporterBlock\";\nimport BooleanBlock from \"./BooleanBlock\";\nimport Block from \"./Block\";\nimport TextProp from \"./TextProp\";\nimport ReporterInputProp from \"./ReporterInputProp\";\nimport BooleanInputProp from \"./BooleanInputProp\";\nimport Transpiler from \"./Transpiler\";\nimport DropdownProp from \"./DropdownProp\";\n\nexport namespace Blocks\n{\n    /**\n     * Generic Block Format ;; Example for the 'go to' block\n     * \n     *  {\n     *      shape: 'STACK',\n     *      category: 'MOTION',\n     *      props:\n     *      [\n     *          { type: 'text', args: ['go to'] },\n     *          { type: 'text', args: ['x:'] },\n     *          { type: 'reporter' }\n     *          { type: 'text', args: ['y:'] },\n     *          { type: 'reporter' }\n     *      ]\n     *  }\n     */\n\n\n    export function create(desc: string): Block\n    {\n        const parsed = parse(desc);\n        const block = mkshape(parsed.shape, parsed.colour) as Block;\n\n        for (const prop of parsed.props)\n        {\n            mkprop(block, prop);\n        }\n\n        return block;\n    }\n\n    export function parse(desc: string): { shape: string, colour: Colour, props: { type: string, args?: any[] }[], virtual: boolean }\n    {\n        const parsed = eval(`(${desc})`);\n\n        const shape = parsed[\"shape\"].toLowerCase().trim() as string;\n        const category = parsed[\"category\"] as string;\n        const props = parsed[\"props\"] as { type: string, args?: any[] }[];\n        const virtual = parsed[\"virtual\"] as boolean || false;\n        const js = parsed[\"js\"] as (t: Transpiler, obj: any) => void;\n\n        const colour = (Colours as any)[category];\n\n        return { shape, colour, props, virtual };\n    }\n\n    function mkshape(shape: string, colour: Colour)\n    {\n        switch (shape)\n        {\n            case \"stack\": return new Stack(colour);\n            case \"boolean\": return new Boolean(colour);\n            case \"reporter\": return new Reporter(colour);\n            case \"hat\": return new Hat(colour);\n            case \"cap\": return new Cap(colour);\n            default: throw new Error(`Couldn't parse shape \"${shape}\"`);\n        }\n    }\n\n    function mkprop(block: Block, desc: { type: string, args?: any[] }): void\n    {\n        switch (desc.type.toLowerCase())\n        {\n            case \"text\": return block[\"add\"](TextProp, ...desc.args);\n            case \"reporter\": return block[\"add\"](ReporterInputProp, ...desc.args);\n            case \"boolean\": return block[\"add\"](BooleanInputProp, ...desc.args);\n            case \"dropdown\": return block[\"add\"](DropdownProp, ...desc.args);\n            default: throw new Error(`Couldn't parse prop \"${desc.type}\"`);\n        }\n    }\n\n    class Stack extends StackedBlock\n    {\n        constructor(colour: Colour)\n        {\n            super(Shapes.STACK, colour);\n        }\n    }\n\n    class Reporter extends ReporterBlock { }\n\n    class Boolean extends BooleanBlock { }\n\n    class Hat extends StackedBlock\n    {\n        constructor(colour: Colour)\n        {\n            super(Shapes.STACK, colour, true);\n        }\n    }\n\n    class Cap extends StackedBlock\n    {\n        constructor(colour: Colour)\n        {\n            super(Shapes.STACK, colour, false, true);\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/Blocks.ts","export type Colour = { fill: string, stroke: string };\n\nexport const Colours =\n{\n    MOTION: { fill: '#4C97FF', stroke: '#3373CC' },\n    LOOKS: { fill: '#9966ff', stroke: '#774dcb' },\n    EVENTS: { fill: '#ffbf00', stroke: '#cc9900' },\n    CONTROL: { fill: '#ffab19', stroke: '#cf8b17' },\n    SENSING: { fill: '#5cb1d6', stroke: '#2e8eb8' },\n    OPERATORS: { fill: '#59c059', stroke: '#389438' },\n    VARIABLES: { fill: '#ff8c1a', stroke: '#db6e00' },\n    OBJECT: { fill: '#ff6680', stroke: '#f35' }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/Colour.ts","import IBlock from \"./IBlock\";\nimport Prop from \"./Prop\";\nimport Shape from \"./Shape\";\nimport { Colour } from \"./Colour\";\nimport { Group, Rectangle, Point } from \"paper\";\n//import Cursor from \"./Cursor\";\nimport IVisitable from \"./IVisitable\";\nimport Transpiler from \"./Transpiler\";\n//import Workspace from \"./Workspace\";\n\nexport default abstract class Block implements IBlock, IVisitable\n{\n    public static readonly h_padding: number = 10;\n    public static readonly v_padding: number = 10;\n\n    protected props: Prop[];\n\n    public readonly shape: Shape;\n    public readonly colour: Colour;\n    public readonly js: (t: Transpiler, obj: any) => void;\n\n    private m_group: Group;\n\n    constructor(shape: Shape, colour: Colour, js: (t: Transpiler, obj: any) => void)\n    {\n        this.shape = shape;\n        this.colour = colour;\n        this.js = js;\n\n        this.props = [];\n    }\n\n    public transpile(t: Transpiler)\n    {\n        this.js(t, this);\n\n    }\n\n    public draw() // recursively draw\n    {\n        let pos = new Point(0, 0);\n        let drag = undefined;\n\n        if (this.m_group)\n        {\n            pos = this.m_group.bounds.topLeft; // previous position\n            drag = this.shape.path.onMouseDrag; // previous drag behaviour\n        }\n\n        this.draw_display(); // draw display\n        \n        this.m_group.bounds.topLeft = pos; // adjust self previous position\n\n        this.shape.path.onMouseDrag = drag; // adjust self drag behaviour\n    }\n\n    public draw_display()\n    {\n        this.shape.erase(); // erase itself(important: clears events)\n\n        let workspace = undefined; //  workspace group\n\n        if (this.m_group)\n        {\n            workspace = this.m_group.parent;\n\n            this.m_group.onMouseDrag = undefined;\n            this.m_group.remove();\n        }\n        this.m_group = new Group();\n\n        this.shape.draw(); // draw self\n        this.m_group.addChild(this.shape.path);\n\n        let maxh = this.shape.height -2 * Block.v_padding; // max height\n        let offset = Block.h_padding;\n        for (const prop of this.props)\n        {\n            prop.erase();\n            prop.draw(); // draw prop\n            this.m_group.addChild(prop.path); // group prop\n\n            maxh = Math.max(maxh, prop.height); // update maxh\n            offset += prop.width + Block.h_padding; // grow\n        }\n\n        maxh += 2 * Block.v_padding;\n        offset = Block.h_padding;\n\n        for (const prop of this.props) // adjust props\n        {\n            prop.path.position.x = offset + prop.width / 2; // horizontal adjust\n            prop.path.position.y = maxh / 2; // vertical adjust\n\n            offset += prop.width + Block.h_padding; // grow\n        }\n\n        this.m_group.position.y = maxh / 2; // vertical adjust self\n        this.shape.width = offset; // width adjust self\n        this.shape.height = maxh; // height adjust self\n\n        this.shape.colour(this.colour); // color self\n\n        if (workspace)\n        {\n            workspace.addChild(this.m_group); // add back to workspace\n        }\n    }\n\n    protected add<T extends Prop>(prop: new(parent: Block, ...args: any[]) => T, ...args: any[]) // add prop\n    {\n        this.props.push(new prop(this, args));\n    }\n\n    public get group(): Group\n    {\n        return this.m_group;\n    }\n\n    public visit(func: (v: IVisitable) => void): void\n    {\n        func(this);\n\n        this.props.forEach(p => p.visit(func));\n    }\n\n    public intersects(b: Rectangle): boolean\n    {\n        return this.shape.path.bounds.intersects(b);\n    }\n\n    public abstract connect(b: Block | Prop): boolean; // join a new parent\n    public abstract disconnect(): boolean; // separate from its parent, if any\n\n    public abstract get top(): Block; // top-most parent\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/Block.ts","import Drawable from \"./Drawable\";\nimport { Colour } from \"./Colour\";\nimport { ShapeType } from \"./Shapes\";\n\nexport default abstract class Shape extends Drawable\n{\n    public readonly type: ShapeType;\n\n    constructor(type: ShapeType)\n    {\n        super();\n\n        this.type = type;\n    }\n\n    public colour(c: Colour): void\n    {\n        this.path.fillColor = c.fill;\n        this.path.strokeColor = c.stroke;\n    }\n\n    protected range(lo: number, hi: number): number[] // utility method (3, 6) -> [3, 4, 5, 6]\n    {\n        let out: number[] = [];\n\n        for (let i = lo; i <= hi; i++) { out.push(i); }\n\n        return out;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/Shape.ts","import Drawable from \"./Drawable\";\nimport IBlock from \"./IBlock\";\nimport IVisitable from \"./IVisitable\";\nimport { Rectangle } from \"paper\";\n\nexport default abstract class Prop extends Drawable implements IVisitable\n{\n    private m_parent: IBlock;\n\n    protected constructor(parent: IBlock)\n    {\n        super();\n        \n        this.m_parent = parent;\n    }\n\n    public get parent(): IBlock\n    {\n        return this.m_parent;\n    }\n\n    public abstract visit(func: (v: IVisitable) => void): void;\n    public abstract intersects(b: Rectangle): boolean;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/Prop.ts","import Prop from \"./Prop\";\nimport { PointText, Rectangle } from \"paper\";\nimport IBlock from \"./IBlock\";\nimport IVisitable from \"./IVisitable\";\n\nexport default class TextProp extends Prop\n{\n    private content: string;\n    private style: string;\n\n    private text: PointText;\n\n    constructor(parent: IBlock, args: string[])\n    {\n        super(parent);\n\n        this.content = args[0] || 'label';\n        this.style = args[1] || 'normal';\n    }\n\n    public draw(): void\n    {\n        this.text = new PointText\n        ({\n            point: [0, 0],\n            content: this.content,\n            fontSize: '1em',\n            fillColor: 'white',\n            fontFamily: 'Roboto',\n            fontWeight: this.style\n        });\n    }\n\n    public get path(): paper.Item\n    {\n        return this.text;\n    }\n\n    public get width(): number\n    {\n        return this.text.bounds.width;\n    }\n\n    public set width(n: number)\n    {\n        // skipping impl ;; text doesn't need to scale\n    }\n\n    public get height(): number\n    {\n        return this.text.bounds.height;\n    }\n\n    public set height(n: number)\n    {\n        // skipping impl ;; text doesn't need to scale\n    }\n\n    public visit(func: (v: IVisitable) => void): void\n    {\n        func(this);\n    }\n\n    public intersects(b: Rectangle): boolean\n    {\n        return false;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/TextProp.ts","import Workspace from \"./Workspace\";\nimport Palette from \"./Palette\";\nimport IClass from \"./IClass\";\nimport Transpiler from \"./Transpiler\";\n\nexport default class Class implements IClass\n{\n    private m_name: string;\n    private m_extends: IClass;\n\n    private m_palette: Palette;\n    private m_workspace: Workspace;\n\n    private m_blocks: string[]; // block desc.\n\n    constructor(name: string, extend: IClass)\n    {\n        this.m_name = name;\n        this.m_extends = extend;\n        this.m_blocks = [];\n\n        this.m_palette = new Palette(this);\n        this.m_workspace = new Workspace();\n    }\n\n    public show()\n    {\n        Workspace.active = this.m_workspace;\n        Palette.active = this.m_palette;\n    }\n\n    public add(desc: string)\n    {\n        this.m_blocks.push(desc);\n\n        this.m_palette.draw();\n    }\n\n    public get blocks(): { desc: string, owner: string }[]\n    {\n        const mine = this.m_blocks.map(d => { return {desc: d, owner: this.name} });\n\n        if (this.m_extends)\n        {\n            return this.m_extends.blocks.concat(mine);\n        }\n        return mine;\n    }\n\n    public get extends(): IClass\n    {\n        return this.m_extends;\n    }\n\n    public get name(): string\n    {\n        return this.m_name;\n    }\n\n    public transpile(t: Transpiler)\n    {\n        t.push_class(this.name, this.extends.name);\n\n        for (const block of this.m_workspace[\"blocks\"])\n        {\n            //block.transpile(t);\n\n            t.pop_method();\n        }\n\n        t.pop_class();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/Class.ts","import Block from \"./Block\";\nimport Prop from \"./Prop\";\nimport IVisitable from \"./IVisitable\";\nimport Shape from \"./Shape\";\nimport { Colour } from \"./Colour\";\n\nexport default abstract class StackedBlock extends Block\n{\n    private m_next: StackedBlock | undefined;\n    private m_prev: StackedBlock | undefined;\n\n    public readonly hat: boolean;\n    public readonly cap: boolean;\n\n    constructor(shape: Shape, colour: Colour, hat = false, cap = false)\n    {\n        super(shape, colour, undefined);\n\n        this.hat = hat;\n        this.cap = cap;\n    }\n\n    public draw(): void\n    {\n        super.draw();\n\n        if (this.m_next)\n        {\n            this.m_next.draw(); // draw next\n\n            this.m_next.group.bounds.topLeft = this.group.bounds.topLeft; // adjust position\n            this.m_next.group.position.y += this.shape.height; // 'stack' below\n\n            this.group.addChild(this.m_next.group); // group\n        }\n    }\n\n    public get next(): StackedBlock | undefined\n    {\n        return this.m_next;\n    }\n\n    public get top(): StackedBlock | undefined\n    {\n        if (this.m_prev === undefined)\n        {\n            return this;\n        }\n        if (this.m_prev === this)\n        {\n            console.warn(\"somehow connected to itself\");\n            \n            return this.m_prev = undefined;\n        }\n        return this.m_prev.top;\n    }\n\n    private get bottom(): StackedBlock | undefined\n    {\n        if (!this.m_next)\n        {\n            return this;\n        }\n        return this.m_next.bottom;\n    }\n\n    public connect(b: Block | Prop): boolean\n    {\n        if (!(b instanceof StackedBlock))\n        {\n            return false; // only connects to stack\n        }\n        if (b.cap || this.hat)\n        {\n            return false; // hat or cap prevention\n        }\n\n        if (this.m_prev)\n        {\n            this.disconnect();\n        }\n        \n        if (b.m_next) // place block in between\n        {\n            const n = b.m_next;\n\n            n.disconnect();\n            n.connect(this.bottom);\n        }\n\n        b.m_next = this; // this -> b\n        this.m_prev = b; // b <- this\n\n        this.top.draw();\n\n        return true;\n    }\n\n    public disconnect(): boolean\n    {\n        if (!this.m_prev) // no previous, can't disconnect\n        {\n            return false;\n        }\n\n        this.m_prev.m_next = undefined; // prev no longer knows about this\n        this.top.draw(); // redraw entire script except this\n\n        this.m_prev = undefined; // this no longer knows about prev\n        this.draw(); // redraw this\n\n        return true;\n    }\n\n    public visit(func: (v: IVisitable) => void): void\n    {\n        super.visit(func);\n\n        if (this.m_next)\n        {\n            this.m_next.visit(func);\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/StackedBlock.ts","import Prop from \"./Prop\";\nimport NestedBlock from \"./NestedBlock\";\nimport Shape from \"./Shape\";\nimport { Colour } from \"./Colour\";\nimport IVisitable from \"./IVisitable\";\nimport { Rectangle } from \"paper\";\nimport { ShapeType } from \"./Shapes\";\n\nexport default abstract class InputProp extends Prop\n{\n    private m_value: NestedBlock | undefined;\n    private m_empty: Shape;\n\n    public draw(): void\n    {\n        if (this.m_value)\n        {\n            this.m_value.draw();\n        }\n        else\n        {\n            const e = this.empty;\n\n            this.m_empty = e.shape;\n\n            this.m_empty.draw();\n            this.m_empty.colour(e.colour);\n        }\n    }\n\n    public erase(): void\n    {\n        super.erase();\n\n        if (this.m_empty)\n        {\n            this.m_empty.erase();\n        }\n        if (this.m_value)\n        {\n            this.m_value.shape.erase();\n        }\n    }\n\n    public get path(): paper.Item\n    {\n        if (this.m_value)\n        {\n            return this.m_value.group;\n        }\n        else if (this.m_empty)\n        {\n            return this.m_empty.path;\n        }\n\n        return undefined;\n    }\n\n    public get width(): number\n    {\n        if (this.m_value)\n        {\n            return this.m_value.shape.width;\n        }\n        else\n        {\n            return this.m_empty.width;\n        }\n    }\n\n    public set width(n: number)\n    {\n        if (this.m_value)\n        {\n            this.m_value.shape.width = n;\n        }\n        else\n        {\n            this.m_empty.width = n;   \n        }\n    }\n\n    public get height(): number\n    {\n        if (this.m_value)\n        {\n            return this.m_value.shape.height;\n        }\n        else\n        {\n            return this.m_empty.height;\n        }\n    }\n\n    public set height(n: number)\n    {\n        if (this.m_value)\n        {\n            this.m_value.shape.height = n;\n        }\n        else\n        {\n            this.m_empty.height = n;\n        }\n    }\n    \n    protected abstract get empty(): { shape: Shape, colour: Colour };\n    public abstract compatible(s: ShapeType): boolean;\n\n    public get value(): NestedBlock\n    {\n        return this.m_value;\n    }\n\n    public set value(a: NestedBlock | undefined)\n    {\n        this.m_value = a;\n\n        if (a)\n        {\n            this.m_value.container = this;\n        }\n    }\n\n    public visit(func: (v: IVisitable) => void): void\n    {\n        if (this.m_value)\n        {\n            this.m_value.visit(func);\n        }\n        else\n        {\n            func(this);\n        }\n    }\n\n    public intersects(b: Rectangle): boolean\n    {\n        return this.path.bounds.intersects(b);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/InputProp.ts","import Block from \"./Block\";\nimport { Point, MouseEvent } from \"paper\";\nimport Workspace from \"./Workspace\";\n\nexport default class Cursor\n{\n    public static readonly threshold = 30;\n\n    private static active: Block;\n    private static start: Point;\n\n    public static init()\n    {\n        paper.project.view.onMouseUp = e => Cursor.stop(e); // register\n        paper.project.view.onMouseMove = e => Cursor.move(e);\n    }\n\n    public static drag(target: Block, e: MouseEvent): void\n    {\n        if (this.active && this.active !== target) // already dragging\n        {\n            return;\n        }\n        else if (!this.active) // new drag\n        {\n            this.active = target;\n            this.start = e.point;\n        }\n    }\n\n    private static move(e: paper.MouseEvent): void\n    {\n        if (!this.active)\n        {\n            return; // no drag\n        }\n\n        this.active.group.translate(e.delta); // move\n\n        if (this.distance(e) > this.threshold) // drag away\n        {\n            if (Workspace.active.disconnect(this.active))\n            {\n                console.log(\"disconnected blocks!\");\n            }\n        }\n    }\n\n    private static stop(e: paper.MouseEvent): void\n    {\n        if (!this.active)\n        {\n            return; // no drag\n        }\n\n        if (Workspace.active.connect(this.active)) // connect\n        {\n        }\n        else if (this.active.top !== this.active && this.distance(e) < this.threshold) // 'snap' back\n        {\n            this.active.top.draw();\n        }\n\n        this.active = undefined;\n    }\n\n    private static distance(e: MouseEvent): number\n    {\n        return this.start.getDistance(e.point);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/Cursor.ts","import { Group, Point } from \"paper\";\nimport Class from \"./Class\";\nimport Editor from \"./Editor\";\nimport { Blocks } from \"./Blocks\";\nimport Workspace from \"./Workspace\";\nimport OverrideBlock from \"./OverrideBlock\";\nimport NewBlock from \"./NewBlock\";\n\nexport default class Palette\n{\n    private m_scroll_pane: Group;\n    private target: Class;\n\n    constructor(target: Class)\n    {\n        this.target = target;\n    }\n\n    public draw(): void\n    {\n        if (this.m_scroll_pane)\n        {\n            this.m_scroll_pane.remove();\n        }\n        this.m_scroll_pane = new Group();\n\n        let pos = new Point(Editor.padding * 2 + 60, Editor.header_height + Editor.padding * 3);\n\n        for (const b of this.target.blocks)\n        {\n            const parsed = Blocks.parse(b.desc);\n            let block = Blocks.create(b.desc);\n            \n            block[\"draw_display\"]();\n            block.group.scale(0.7);\n            block.group.bounds.topLeft = pos;\n            block.shape.path.onMouseDown = e => Workspace.active.add(Blocks.create(b.desc));\n\n            this.m_scroll_pane.addChild(block.group);\n\n            pos.y += block.shape.height + Editor.padding * 2;\n\n            if (parsed.virtual === true && b.owner !== this.target.name)\n            {\n                block = new OverrideBlock(b.desc);\n\n                block[\"draw_display\"]();\n                block.group.scale(0.7);\n                block.group.bounds.topLeft = pos;\n                block.shape.path.onMouseDown = e => Workspace.active.add(new OverrideBlock(b.desc));\n\n                this.m_scroll_pane.addChild(block.group);\n\n                pos.y += block.shape.height + Editor.padding * 2;\n            }\n        }\n        let block = new NewBlock();\n            \n        block[\"draw_display\"]();\n        block.group.scale(0.7);\n        block.group.bounds.topLeft = pos;\n        block.shape.path.onMouseDown = e => Workspace.active.add(new NewBlock());\n\n        this.m_scroll_pane.addChild(block.group);\n\n        pos.y += block.shape.height + Editor.padding * 2;\n    }\n\n    public load()\n    {\n        if (!this.m_scroll_pane)\n        {\n            this.draw();\n        }\n        this.m_scroll_pane.visible = true;\n    }\n\n    public unload()\n    {\n        this.m_scroll_pane.visible = false;\n    }\n\n    public get group(): Group\n    {\n        return this.m_scroll_pane;\n    }\n\n    private static m_active: Palette;\n\n    public static get active(): Palette\n    {\n        return this.m_active;\n    }\n\n    public static set active(p: Palette)\n    {\n        this.m_active = p;\n        this.m_active.load();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/Palette.ts","export default abstract class Drawable\n{\n    public abstract draw(): void;\n\n    public abstract get path(): paper.Item;\n\n    public abstract get width(): number;\n    public abstract set width(n:number);\n\n    public abstract get height(): number;\n    public abstract set height(n:number);\n\n    public erase(): void\n    {\n        if (this.path)\n        {\n            this.path.onMouseDown = undefined;\n            this.path.onMouseDrag = undefined;\n            this.path.remove();\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/Drawable.ts","import NestedBlock from \"./NestedBlock\";\nimport Shapes from \"./Shapes\";\nimport { Colour } from \"./Colour\";\n\nexport default class ReporterBlock extends NestedBlock\n{\n    constructor(colour: Colour)\n    {\n        super(Shapes.REPORTER, colour, undefined);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/ReporterBlock.ts","import Block from \"./Block\";\nimport InputProp from \"./InputProp\";\nimport Prop from \"./Prop\";\n\nexport default abstract class NestedBlock extends Block\n{\n    private m_container: InputProp;\n\n    public disconnect(): boolean\n    {\n        if (!this.m_container)\n        {\n            return false;\n        }\n\n        this.m_container.value = undefined; // container no longer knows about this\n        this.top.draw(); // redraw parent block of container prop\n\n        this.m_container = undefined; // this no longer knows about container\n        this.draw(); // redraw this\n\n        return true;\n    }\n\n    public connect(b: Block | Prop): boolean\n    {\n        if (this.m_container)\n        {\n            return false; // already connected\n        }\n\n        if (!(b instanceof InputProp))\n        {\n            return false;\n        }\n        const inp = b as InputProp;\n\n        if (!inp.compatible(this.shape.type))\n        {\n            return false;\n        }\n\n        inp.value =  this; // todo check reporter or boolean \n        (inp.parent as Block).top.draw();\n\n        return true;\n    }\n\n    public set container(c: InputProp)\n    {\n        this.m_container = c;\n    }\n\n    public get top(): Block\n    {\n        if (!this.m_container)\n        {\n            return this;\n        }\n        return (this.m_container.parent as Block).top;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/NestedBlock.ts","import Prop from \"./Prop\"\nimport { Group, Path, PointText } from \"paper\";\nimport Block from \"./Block\";\nimport IBlock from \"./IBlock\";\n\nexport default class DropdownProp extends Prop\n{\n    private m_group: Group;\n\n    private m_options: () => string[];\n    private m_selected: number;\n\n    constructor(parent: IBlock, args: any[])\n    {\n        super(parent);\n\n        this.m_options = args[0];\n        this.m_selected = 0;\n    }\n\n    public draw(): void\n    {\n        const text = new PointText\n        ({\n            content: this.m_options()[this.m_selected],\n            fillColor: 'white',\n            justification: 'center',\n            fontFamily: 'Roboto',\n            fontSize: '1em'\n        })\n\n        const arrow = new Path.RegularPolygon\n        ({\n            center: [text.bounds.right + 7 + Block.h_padding, text.bounds.center.y + 3.5],\n            sides: 3,\n            radius: 7,\n            fillColor: this.parent.colour.fill,\n            rotation: 180\n        })\n        const ta = new Group([text, arrow]);\n\n        const rect = new Path.Rectangle\n        ({\n            width: ta.bounds.width + Block.h_padding * 2,\n            height: ta.bounds.height + Block.v_padding * 2,\n            fillColor: this.parent.colour.stroke,\n            radius: 4\n        })\n        rect.bounds.center = ta.bounds.center;\n\n        this.m_group = new Group([rect, ta]);\n\n        this.m_group.onClick = e =>\n        {\n            console.log(this.m_options());\n            if (++this.m_selected >= this.m_options().length)\n            {\n                this.m_selected = 0;\n            }\n            (this.m_group.children[1].children[0] as PointText).content = this.m_options()[this.m_selected];\n        }\n    }\n\n    public get path(): paper.Item\n    {\n        return this.m_group;\n    }\n\n    public get width(): number\n    {\n        return this.m_group.bounds.width;\n    }\n    public set width(n: number)\n    {\n        return; // skipping impl ;; dropdown doesn't scale\n    }\n\n    public get height(): number\n    {\n        return this.m_group.bounds.height;\n    }\n\n    public set height(n: number)\n    {\n        return; // skipping impl ;; dropdown doesn't scale\n    }\n\n    public visit(func: (v: any) => void): void\n    {\n        func(this);\n    }\n\n    public intersects(b: paper.Rectangle): boolean\n    {\n        return b.intersects(this.m_group.bounds);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/DropdownProp.ts","import Prop from \"./Prop\";\nimport IVisitable from \"./IVisitable\";\nimport Shape from \"./Shape\";\nimport { PointText, Group } from \"paper\";\nimport IBlock from \"./IBlock\";\nimport Block from \"./Block\";\nimport Workspace from \"./Workspace\";\nimport { Blocks } from \"./Blocks\";\nimport { Colours } from \"./Colour\";\n\nexport default class DispenserProp extends Prop\n{\n    private m_shape: Shape;\n    private m_group: Group;\n\n    public readonly content: string;\n\n    constructor(parent: IBlock, args: any[])\n    {\n        super(parent);\n\n        this.m_shape = args[0];\n        this.content = args[1] || \"n\";\n    }\n\n    public visit(func: (v: IVisitable) => void): void\n    {\n        return; // can't visit dispensers\n    }\n\n    public intersects(b: paper.Rectangle): boolean\n    {\n        return false; // can't intersect dispensers\n    }\n\n    public draw(): void\n    {\n        this.m_group = new Group();\n\n        this.m_shape.draw(); // shape\n        this.m_shape.colour(this.parent.colour);\n        this.m_group.addChild(this.m_shape.path);\n\n        const text = new PointText // text\n        ({\n            point: [0, 0],\n            content: this.content,\n            fontSize: '1em',\n            fillColor: 'white',\n            fontFamily: 'Roboto'\n        })\n        this.m_group.addChild(text);\n\n        this.m_shape.width = Math.max(50, text.bounds.width + Block.h_padding * 2);\n        this.m_shape.height = text.bounds.height + Block.v_padding * 2;\n        \n        text.bounds.center = this.m_shape.path.bounds.center; // align\n\n        this.m_shape.path.onMouseDown = e => \n        {\n            Workspace.active.add(Blocks.create(this.desc()));\n        }\n    }\n\n    public get path(): paper.Item\n    {\n        return this.m_group;\n    }\n\n    public get width(): number\n    {\n        return this.m_shape.width;\n    }\n\n    public set width(n: number)\n    {\n        this.m_shape.width = n;\n    }\n\n    public get height(): number\n    {\n        return this.m_shape.height;\n    }\n\n    public set height(n: number)\n    {\n        this.m_shape.height = n;\n    }\n\n    private desc(): string\n    {\n        return `\n        {\n            shape: '${this.m_shape.type}',\n            category: '${this.colour()}',\n            props:\n            [\n                { type: 'text', args: ['${this.content}'] }\n            ]\n        }`\n    }\n\n    private colour(): string\n    {\n        for (const c in Colours)\n        {\n            if ((Colours as any)[c] === this.parent.colour)\n            {\n                return c;\n            }\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/DispenserProp.ts","import { project, Layer, Path, Point, CompoundPath, Rectangle, Group, PointText, Size, TextItem, Color } from \"paper\";\nimport Editor from \"./Editor\";\nimport { Blocks } from \"./Blocks\";\nimport Block from \"./Block\";\nimport { Colours } from \"./Colour\";\nimport Shapes from \"./Shapes\";\nimport Workspace from \"./Workspace\";\nimport DefineBlock from \"./DefineBlock\";\n\nexport default class BlockEditor\n{\n    private static first: Layer;\n    private static layer: Layer;\n\n    private static pane: Rectangle;\n    private static btns: Group;\n\n    // block currently editing\n    private static category: string;\n    private static props: { type: string, args: any[] }[];\n    private static block: Block;\n\n    private static draw()\n    {\n        this.first = project.activeLayer;\n\n        this.layer = new Layer(); // draw above\n        this.layer.activate();\n        \n        // dark overlay\n        const bg = new Path.Rectangle\n        ({\n            x: 0,\n            y: 0,\n            width: project.view.size.width,\n            height: project.view.size.height,\n            fillColor: Editor.Colours.DARK,\n            opacity: 0.8\n        })\n\n        // light grey bg\n        const bg2 = new Path.Rectangle\n        ({\n            width: Math.max(700, project.view.size.width / 2),\n            height: Math.max(500, project.view.size.height / 2),\n            fillColor: Editor.Colours.LIGHT,\n            radius: 10\n        });\n        bg2.bounds.center = project.view.center;\n        this.pane = bg2.bounds;\n\n        // category circles\n        const circs = new Group();\n        let pos = 0;\n        for (const col in Colours)\n        {\n            const c = (Colours as any)[col];\n\n            circs.addChild(new Path.Circle\n            ({\n                center: [pos += 70, 0],\n                radius: 15,\n                fillColor: c.fill,\n                strokeColor: c.stroke,\n                strokeWidth: 2\n            }))\n\n            circs.lastChild.onMouseDown = e =>\n            {\n                this.category = col;\n                this.refresh_block();\n            }\n\n            circs.addChild(new PointText\n            ({\n                point: [pos, 30],\n                content: col.toLowerCase(),\n                fillColor: Editor.Colours.TEXT,\n                justification: 'center',\n                fontFamily: 'Roboto',\n                fontSize: '0.7em'\n            }))\n        }\n        circs.bounds.center = this.pane.topCenter.clone().add([0, 200]);\n\n        // prop btns\n        const rect = new Path.Rectangle\n        ({\n            width: 100,\n            height: 80,\n            fillColor: Editor.Colours.LIGHT,\n            strokeColor: Editor.Colours.DARK,\n            strokeWidth: 3.5,\n            radius: 10\n        })\n\n        // text btn\n        const txt = new PointText\n        ({\n            content: \"text\",\n            fillColor: Editor.Colours.TEXT,\n            justification: 'center',\n            fontFamily: 'Roboto',\n            fontSize: '1.5em'\n        })\n        txt.bounds.center = rect.bounds.center;\n        const text_btn = new Group([rect.clone(), txt]);\n        text_btn.onClick = e => \n        {\n            this.props.push({ type: 'text', args: [window.prompt(\"text label\", \"describe your block!\")] })\n            this.refresh_block();\n        }\n\n        // boolean btn\n        const shape = Shapes.BOOLEAN;\n        shape.draw();\n        shape.colour({ fill: Editor.Colours.LIGHT, stroke: Editor.Colours.DARK });\n        shape.path.bounds.center = rect.bounds.center;\n        shape.path.strokeWidth = 3.5;\n        const bool_btn = new Group([rect.clone(), shape.path]);\n        bool_btn.position.x += 150;\n        bool_btn.onClick = e =>\n        {\n            this.props.push({ type: 'boolean', args: [window.prompt(\"add an input\", \"true or false\")] })\n            this.refresh_block();\n        }\n\n        // reporter btn\n        const shape2 = Shapes.REPORTER;\n        shape2.draw();\n        shape2.colour({ fill: Editor.Colours.LIGHT, stroke: Editor.Colours.DARK });\n        shape2.path.bounds.center = rect.bounds.center;\n        shape2.path.strokeWidth = 3.5;\n        const rep_btn = new Group([rect, shape2.path]);\n        rep_btn.position.x += 150 * 2;\n        rep_btn.onClick = e =>\n        {\n            this.props.push({ type: 'reporter', args: [window.prompt(\"add an input\", \"number, text, or object\")] })\n            this.refresh_block();\n        }\n\n        this.btns = new Group([text_btn, rep_btn, bool_btn]);\n        this.btns.bounds.center = this.pane.topCenter.clone().add([0, 300]);\n\n        const rect2 = new Path.Rectangle\n        ({\n            width: 120,\n            height: 50,\n            fillColor: Editor.Colours.SUBTEXT,\n            radius: 4,\n            //opacity: 0.5\n        })\n        const ok = new PointText\n        ({\n            content: \"\",\n            fillColor: Editor.Colours.TEXT,\n            justification: 'center',\n            fontFamily: 'Roboto',\n            fontSize: '1em'\n        })\n        ok.bounds.center = rect2.bounds.clone().center;\n        const ok_btn = new Group([rect2.clone(), ok]);\n        ok_btn.bounds.bottomRight = this.pane.bottomRight.clone().add([-20, -20]);\n        ok_btn.onClick = e => \n        {\n            this.hide();\n\n            const d = this.desc();\n\n            Editor.active.add(d);\n            Workspace.active.add(new DefineBlock(d));\n        }\n        this.btns.addChild(ok_btn);\n\n        const cancel = new PointText\n        ({\n            content: \"cancel\",\n            fillColor: Editor.Colours.TEXT,\n            justification: 'center',\n            fontFamily: 'Roboto',\n            fontSize: '1em'\n        })\n        cancel.bounds.center = rect2.bounds.clone().center;\n        const cancel_btn = new Group([rect2.clone(), cancel]);\n        cancel_btn.bounds.bottomRight = this.pane.bottomRight.clone().add([-150, -20]);\n        cancel_btn.onClick = e => \n        {\n            this.hide();\n        }\n\n        const variable = new PointText\n        ({\n            content: \"create variable\",\n            fillColor: Editor.Colours.TEXT,\n            justification: 'center',\n            fontFamily: 'Roboto',\n            fontSize: '1em'\n        })\n        rect2.fillColor = Colours.VARIABLES.fill;\n        variable.bounds.center = rect2.bounds.center;\n        const var_btn = new Group([rect2, variable]);\n        var_btn.bounds.bottomLeft = this.pane.bottomLeft.clone().add([20, -20]);\n        var_btn.onClick = e => \n        {\n            const name = window.prompt(\"create a variable\", \"my variable\");\n\n            const desc = `\n            {\n                shape: 'REPORTER',\n                category: 'VARIABLES',\n                props:\n                [\n                    { type: 'text', args: ['${name}'] },\n                ]\n            }\n            `\n            this.hide();\n\n            Editor.active.add(desc);\n        }\n\n        // close btn\n        const x = new CompoundPath\n        ({\n            children:\n            [\n                new Path.Rectangle({ position: [project.view.size.width - 30, 30], width: 20, height: 4, radius: 3 }),\n                new Path.Rectangle({ position: [project.view.size.width - 30, 30], width: 4, height: 20, radius: 3 }),\n            ],\n            fillColor: Editor.Colours.TEXT,\n            rotation: 45\n        });\n        x.onClick = e => this.hide();\n\n        this.first.activate();\n    }\n\n    public static show()\n    {\n        if (!this.layer)\n        {\n            this.draw();\n        }\n        this.layer.visible = true;\n        this.layer.activate();\n\n        this.props = [];\n        this.category = 'OBJECT';\n\n        this.refresh_block();\n    }\n\n    public static desc(): string\n    {\n        return `\n        {\n            shape: 'STACK',\n            category: '${this.category}',\n            props:\n            [\n                ${this.props.map(p => `{ type: '${p.type}', args: [${p.args.map(s => `\"${s}\"`).join(',')}] }`).join(',')}\n            ],\n            virtual: true\n        }`;\n    }\n\n    private static refresh_block()\n    {\n        if (this.block)\n        {\n            this.block.group.remove();\n        }\n        this.block = Blocks.create(this.desc());\n\n        this.block.draw_display();\n        this.block.group.bounds.topCenter = this.pane.topCenter.clone().add([0, 60]);\n\n        // update btns\n        this.btns.children.forEach(c =>\n        {\n            const fill = (Colours as any)[this.category].fill;\n            const stroke = (Colours as any)[this.category].stroke;\n\n            if (!(c.children[1] instanceof PointText)) // text\n            {\n                c.children[1].fillColor = '#0000000F';\n                c.children[1].strokeColor = stroke;\n            }\n            c.children[0].fillColor = fill;\n            c.children[0].strokeColor = stroke;\n        })\n    }\n\n    public static hide()\n    {\n        this.first.activate();\n        this.layer.visible = false;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/BlockEditor.ts","import \"../res/styles.css\";\nimport Cursor from \"./v4/Cursor\";\nimport Workspace from \"./v4/Workspace\";\nimport Editor from \"./v4/Editor\";\nimport BlockEditor from \"./v4/BlockEditor\";\nimport Class from \"./v4/Class\";\n\nfunction init()\n{\n\twindow.alert(\"Hey there! Welcome to soop. This is an early alpha version, and there's a lot of bugs, so please bear with me. I made this alone in six days, though the current version is made entirely in 48 hours. If something breaks just reload. You can't quite drag blocks out to create them yet, instead, just click them once. Press F4 to toggle the \\'Gamer\\' class that extends the Player one(works once, it's a debug tool :P).\")\n\n\tpaper.setup($(\"#editor\")[0] as HTMLCanvasElement); // init paperjs\n\t\n\tCursor.init();\n\tEditor.init();\n\n\t//COMMENTED OUT CODE BELOW IS DEV TOOL TO FIND WHICH VERTICES IN THE SVG PATHS HAVE TO DO WITH SCALING\n\t// const path = new Path(`M.5,20.5a20,20,0,0,1,20-20h92a20,20,0,0,1,20,20v52a4,4,0,0,1-4,4h-80a5.2,5.2,0,0,0-4,2l-4,4a5.2,5.2,0,0,1-4,2h-12a5.2,5.2,0,0,1-4-2l-4-4a5.2,5.2,0,0,0-4-2h-8a4,4,0,0,1-4-4Z`);\n\t// path.fillColor = 'green';\n\n\t// let i = 0;\n\t// path.segments[i].point.selected = true;\n\t// window.onkeypress = (evt: KeyboardEvent) =>\n\t// {\n\t// \tif (evt.key == ' ')\n\t// \t{\n\t// \t\tpath.segments[i].point.selected = false;\n\t// \t\tpath.segments[++i].point.selected = true;\n\n\t// \t\tconsole.log(i);\n\t// \t}\n\t// }\n}\n\nwindow.onload = init;\n\nwindow.onkeydown = (e: KeyboardEvent) =>\n{\n\tif (e.key == 'F1')\n\t{\n\t\tWorkspace.active.highlight_loose();\n\t}\n\tif (e.key == 'F2')\n\t{\n\t\tWorkspace.active.unload();\n\t}\n\tif (e.key == 'F3')\n\t{\n\t\twindow.prompt(\"current block\", BlockEditor.desc());\n\t}\n\tif (e.key == 'F4')\n\t{\n\t\tEditor.classes.push(new Class(\"Gamer\", Editor.classes[0]));\n\t\tEditor.active = Editor.classes[2];\n\t}\n}\n\nwindow.onkeyup = (e: KeyboardEvent) =>\n{\n\tif (e.key == 'F1')\n\t{\n\t\tWorkspace.active.unhighlight_loose();\n\t}\n\tif (e.key == 'F2')\n\t{\n\t\tWorkspace.active.load();\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./res/styles.css\n// module id = 22\n// module chunks = 0","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\n// module id = 23\n// module chunks = 0","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"html, body\\n{\\n\\tmargin: 0;\\n\\theight: 100%;\\n\\toverflow: hidden\\n}\\n\\n#editor\\n{\\n\\tposition: fixed;\\n\\tleft: 0;\\n\\ttop: 0;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tbackground-color: #26282e;\\n}\\n\\n#fontload\\n{\\n\\tfont-family: 'Roboto', sans-serif;\\n    font-size: 0;\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/dist/cjs.js!./res/styles.css\n// module id = 24\n// module chunks = 0","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/dist/runtime/api.js\n// module id = 25\n// module chunks = 0","import Shape from \"./Shape\";\nimport { Path } from \"paper\";\n\nexport default class StackShape extends Shape\n{\n    private m_path: Path;\n\n    public draw(): void\n    {\n        this.m_path = new Path(`M.5,4.5a4,4,0,0,1,4-4h8a5.2,5.2,0,0,1,4,2l4,4a5.2,5.2,0,0,0,4,2h12a5.2,5.2,0,0,0,4-2l4-4a5.2,5.2,0,0,1,4-2h131a4,4,0,0,1,4,4v40a4,4,0,0,1-4,4H48.5a5.2,5.2,0,0,0-4,2l-4,4a5.2,5.2,0,0,1-4,2h-12a5.2,5.2,0,0,1-4-2l-4-4a5.2,5.2,0,0,0-4-2h-8a4,4,0,0,1-4-4Z`);\n    }\n\n    public get path(): paper.Item\n    {\n        return this.m_path;\n    }\n\n    public get width(): number\n    {\n        return this.m_path.bounds.width;\n    }\n\n    public set width(n: number) // 10-13 inclusive\n    {\n        const a = Math.max(n, 60) - this.width;\n\n        this.range(10, 13).forEach(n => this.m_path.segments[n].point.x += a);\n    }\n\n    public get height(): number\n    {\n        return this.m_path.segments[13].point.y - this.m_path.segments[10].point.y; // ignore btm notch\n    }\n\n    public set height(n: number) // 12-23 inclusive\n    {\n        const a = n - this.height;\n\n        this.range(12, 23).forEach(n => this.m_path.segments[n].point.y += a);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/StackShape.ts","import { Path } from \"paper\";\nimport Shape from \"./Shape\";\n\nexport default class ReporterShape extends Shape\n{\n    private m_path: Path;\n\n    public draw(): void\n    {\n        this.m_path = new Path(`M20.5.5h45a20,20,0,0,1,20,20h0a20,20,0,0,1-20,20h-45a20,20,0,0,1-20-20h0A20,20,0,0,1,20.5.5Z`);\n        this.width = 50;\n    }\n\n    public get path(): paper.Item\n    {\n        return this.m_path;\n    }\n\n    public get width(): number\n    {\n        return this.m_path.bounds.width;\n    }\n\n    public set width(n: number) // 1-4 inclusive\n    {\n        const a = Math.max(50, n) - this.width;\n\n        this.range(1, 4).forEach(n => this.m_path.segments[n].point.x += a);\n    }\n\n    public get height(): number\n    {\n        return this.m_path.bounds.height;\n    }\n\n    public set height(n: number) // 3-6 inclusive\n    {\n        const a = n - this.height;\n\n        this.range(3, 6).forEach(n => this.m_path.segments[n].point.y += a);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/ReporterShape.ts","import { Path } from \"paper\";\nimport Shape from \"./Shape\";\n\nexport default class BooleanShape extends Shape\n{\n    private m_path: Path;\n\n    public draw(): void\n    {\n        this.m_path = new Path(`M20.71.5h105l20,20h0l-20,20h-105l-20-20h0Z`);\n        this.width = 70;\n    }\n\n    public get path(): paper.Item\n    {\n        return this.m_path;\n    }\n\n    public get width(): number\n    {\n        return this.m_path.bounds.width;\n    }\n\n    public set width(n: number) // 1-4 inclusive\n    {\n        const a = Math.max(70, n) - this.width;\n\n        this.range(1, 4).forEach(n => this.m_path.segments[n].point.x += a);\n    }\n\n    public get height(): number\n    {\n        return this.m_path.bounds.height;\n    }\n\n    public set height(n: number) // 3-6 inclusive\n    {\n        const a = n - this.height;\n\n        this.range(3, 6).forEach(n => this.m_path.segments[n].point.y += a);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/BooleanShape.ts","import { Path } from \"paper\";\nimport Shape from \"./Shape\";\n\nexport default class HatShape extends Shape\n{\n    private m_path: Path;\n\n    public draw(): void\n    {\n        this.m_path = new Path(`M.5,20.5a20,20,0,0,1,20-20h92a20,20,0,0,1,20,20v52a4,4,0,0,1-4,4h-80a5.2,5.2,0,0,0-4,2l-4,4a5.2,5.2,0,0,1-4,2h-12a5.2,5.2,0,0,1-4-2l-4-4a5.2,5.2,0,0,0-4-2h-8a4,4,0,0,1-4-4Z`);\n    }\n\n    public get path(): paper.Item\n    {\n        return this.m_path;\n    }\n\n    public get width(): number\n    {\n        return this.m_path.bounds.width;\n    }\n\n    public set width(n: number) // 2-5 inclusive\n    {\n        const a = n - this.width;\n\n        this.range(2, 5).forEach(n => this.m_path.segments[n].point.x += a);\n    }\n\n    public get height(): number\n    {\n        return this.m_path.segments[5].point.y - this.m_path.segments[2].point.y;\n    }\n\n    public set height(n: number) // 4-15 inclusive\n    {\n        const a = n - this.height;\n\n        this.range(4, 15).forEach(n => this.m_path.segments[n].point.y += a);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/HatShape.ts","import NestedBlock from \"./NestedBlock\";\nimport Shapes from \"./Shapes\";\nimport { Colour } from \"./Colour\";\n\nexport default class BooleanBlock extends NestedBlock\n{\n    constructor(colour: Colour)\n    {\n        super(Shapes.BOOLEAN, colour, undefined);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/BooleanBlock.ts","import InputProp from \"./InputProp\";\nimport Shape from \"./Shape\";\nimport Shapes, { ShapeType } from \"./Shapes\";\nimport IBlock from \"./IBlock\";\nimport { Colour } from \"./Colour\";\n\nexport default class ReporterInputProp extends InputProp\n{\n    constructor(parent: IBlock)\n    {\n        super(parent);\n    }\n\n    protected get empty(): { shape: Shape, colour: Colour }\n    {\n        return { shape: Shapes.REPORTER, colour: { fill: 'white', stroke: this.parent.colour.stroke } };\n    }\n\n    public compatible(s: ShapeType): boolean\n    {\n        return s === 'reporter' || s === 'boolean';\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/ReporterInputProp.ts","import InputProp from \"./InputProp\";\nimport IBlock from \"./IBlock\";\nimport { Colour } from \"./Colour\";\nimport Shapes, { ShapeType } from \"./Shapes\";\nimport Shape from \"./Shape\";\n\nexport default class BooleanInputProp extends InputProp\n{\n    constructor(parent: IBlock)\n    {\n        super(parent);\n    }\n\n    protected get empty(): { shape: Shape, colour: Colour }\n    {\n        return { shape: Shapes.BOOLEAN, colour: { fill: this.parent.colour.stroke, stroke: this.parent.colour.fill } };\n    }\n\n    public compatible(s: ShapeType): boolean\n    {\n        return s === 'boolean';\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/BooleanInputProp.ts","import StackedBlock from \"./StackedBlock\";\nimport Shapes from \"./Shapes\";\nimport TextProp from \"./TextProp\";\nimport { Blocks } from \"./Blocks\";\nimport DispenserProp from \"./DispenserProp\";\n\nexport default class OverrideBlock extends StackedBlock\n{\n    constructor(desc: string)\n    {\n        const parsed = Blocks.parse(desc);\n\n        super(Shapes.HAT, parsed.colour, true);\n\n        this.add(TextProp, \"override\", \"italic 700\");\n        //this.add(TextProp, \"v\");\n\n        for (const prop of parsed.props)\n        {\n            switch (prop.type)\n            {\n                case \"text\":\n                    this.add(TextProp, ...prop.args);\n                    break;\n                case \"reporter\":\n                    this.add(DispenserProp, Shapes.REPORTER, ...prop.args);\n                    break;\n                case \"boolean\":\n                    this.add(DispenserProp, Shapes.BOOLEAN, ...prop.args);\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/OverrideBlock.ts","import ReporterBlock from \"./ReporterBlock\";\nimport { Colours } from \"./Colour\";\nimport TextProp from \"./TextProp\";\nimport DropdownProp from \"./DropdownProp\";\nimport Editor from \"./Editor\";\n\nexport default class NewBlock extends ReporterBlock\n{\n    constructor()\n    {\n        super(Colours.OBJECT);\n\n        this.add(TextProp, \"new\");\n        this.add(DropdownProp, (): string[] => Editor.classes.map(c => c.name));\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/NewBlock.ts","import Class from \"./Class\";\n\nexport default class Sprite extends Class\n{\n    constructor()\n    {\n        super(\"Sprite\", undefined);\n    }\n\n    public get blocks(): { desc: string, owner: string }[]\n    {\n        return [\n/* MOTION */\n`{\n    shape: 'STACK',\n    category: 'MOTION',\n    props:\n    [\n        { type: 'text', args: ['go to'] },\n        { type: 'text', args: ['x:'] },\n        { type: 'reporter', args: ['x'] },\n        { type: 'text', args: ['y:'] },\n        { type: 'reporter', args: ['y'] }\n    ],\n    virtual: true,\n    js: ${`(t, obj) =>\n    {\n        console.log(\"hellooo\");\n        // t.write(\"(\");\n        // obj.props[0].transpile(t);\n        // t.write(\" && \");\n        // obj.props[2].transpile(t);\n        // t.write(\")\");\n    }`}\n}`, // go to\n\n`{\n    shape: 'STACK',\n    category: 'MOTION',\n    props:\n    [\n        { type: 'text', args: ['set'] },\n        { type: 'text', args: ['x:'] },\n        { type: 'reporter', args: ['x'] },\n    ]\n}`, // set x\n\n`{\n    shape: 'STACK',\n    category: 'MOTION',\n    props:\n    [\n        { type: 'text', args: ['set'] },\n        { type: 'text', args: ['y:'] },\n        { type: 'reporter', args: ['y'] },\n    ]\n}`, // set y\n\n`{\n    shape: 'BOOLEAN',\n    category: 'OPERATORS',\n    props:\n    [\n        { type: 'boolean', args: [\"a\"] },{ type: 'text', args: [\"and\"] },{ type: 'boolean', args: [\"b\"] }\n    ],\n    virtual: false\n}`, // equals\n\n`{\n    shape: 'REPORTER',\n    category: 'OPERATORS',\n    props:\n    [\n        { type: 'reporter', args: [\"a\"] },{ type: 'text', args: [\"+\"] },{ type: 'reporter', args: [\"b\"] }\n    ],\n    virtual: false\n}`, // +\n\n`{\n    shape: 'REPORTER',\n    category: 'OPERATORS',\n    props:\n    [\n        { type: 'reporter', args: [\"a\"] },{ type: 'text', args: [\"-\"] },{ type: 'reporter', args: [\"b\"] }\n    ],\n    virtual: false\n}`, // +\n     \n`{\n    shape: 'REPORTER',\n    category: 'VARIABLES',\n    props:\n    [\n        { type: 'text', args: [\"health\"] }\n    ],\n    virtual: false\n}`, // +\n\n`{\n    shape: 'STACK',\n    category: 'VARIABLES',\n    props:\n    [\n        { type: 'text', args: ['set'] },\n        { type: 'dropdown', args: [() => [\"select\", \"health\"]] },\n        { type: 'text', args: ['to'] },\n        { type: 'reporter', args: ['val'] },\n    ]\n}`, // set y\n\n        ].map(d => { return {desc: d, owner: this.name} });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/Sprite.ts","import StackedBlock from \"./StackedBlock\";\nimport Shapes from \"./Shapes\";\nimport TextProp from \"./TextProp\";\nimport { Blocks } from \"./Blocks\";\nimport DispenserProp from \"./DispenserProp\";\n\nexport default class DefineBlock extends StackedBlock\n{\n    constructor(desc: string)\n    {\n        const parsed = Blocks.parse(desc);\n\n        super(Shapes.HAT, parsed.colour, true);\n\n        this.add(TextProp, \"define\", \"italic 700\");\n\n        for (const prop of parsed.props)\n        {\n            switch (prop.type)\n            {\n                case \"text\":\n                    this.add(TextProp, ...prop.args);\n                    break;\n                case \"reporter\":\n                    this.add(DispenserProp, Shapes.REPORTER, ...prop.args);\n                    break;\n                case \"boolean\":\n                    this.add(DispenserProp, Shapes.BOOLEAN, ...prop.args);\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/v4/DefineBlock.ts"],"sourceRoot":""}